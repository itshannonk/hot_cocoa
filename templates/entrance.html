<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title> AI or You </title>
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
    <iframe width="0" height="0" src="http://soundimage.org/wp-content/uploads/2014/04/Fantasy_Game_Background.mp3?_=2" frameborder="0" allowfullscreen></iframe>

    <style media="screen">
      .start {
        visibility: hidden;
      }

      input[type="button"]:disabled {
        background-color: #ddd;
        color: #777;
      }

      #to_confront {
        color: maroon;
        font-size: 25px;
        /*border-style: double;
        border-color: maroon;*/
      }

      #gif {
        width: 10%;

      }

      /* Title spacing */
      #title {
        margin: 70px;
        letter-spacing: 0px;
        margin-bottom: 10px;
      }

      /* body styling */
      #body {
        font-family: 'Press Start 2P', cursive;
        line-height: 30px;
        font-size: 15px;
        letter-spacing: 0px;
        margin-top: 10px;
      }

      .button {
          font-family: 'Press Start 2P', cursive;
          background-color: black;
          color: white;
          padding: 15px;
          border-style: double;
          border-width: 3px;
          font-weight: lighter;
          font-size: 10px;
      }

      /* border styling */
      .around {
        /* padding-bottom: 30px; */
        border-top-style: dashed;
        border-bottom-color: white;
        border-bottom-width: 2px;
        width: 80%;
        margin-top: 30px;
        padding-top: 20px;
      }

      input[type="button"]:disabled {
        background-color: black;
        color: #777;
      }

      /* progress bar styling */
      #container {
        width: 50px;
        height: 500px;
        position: relative;
        border: 2px dashed black;
        margin-top: 40px;
        background-color: white;
      }
      #animate {
        width: 50px;
        height: 250px;
        position: absolute;
        background: black;
      }

      /* progress bar stuff */
      #sideprogress {
        width: 90%;
        float:left;
      }

      #progress {
        visibility: visible;
        width: 10%;
        float: left;
        padding-top: 150px;
      }

    </style>
  </head>
  <center>
  <body onload="UpdateProg(); introduction();" id='body' align="middle" bgcolor="black"><font color="white">
    <script type="text/javascript">

      function introduction() {
        document.getElementById("introToEnt").style.visibility = "visible";
        let txt = document.getElementById("introToEnt").innerHTML; // type writer
        document.getElementById("introToEnt").innerHTML = "";
        document.getElementById("car").style.visibility = "hidden";
        document.getElementById("hoverboard").style.visibility = "hidden";
        i = 0;
        function delaybutton99() {
          document.getElementById("car").style.visibility = "visible";
          document.getElementById("hoverboard").style.visibility = "visible";
        }
        typeWriter(txt, 'introToEnt', delaybutton99);
      }

      function UpdateProg () {
        let progress = document.getElementById('animate');
        progress.style.height = sessionStorage.getItem('progress') + 'px';
      }

      function driveCar() {
        document.getElementById('transportborder').style.visibility = "visible";
        document.getElementById("car").disabled = true;
        // create type writer effect
        let txt = document.getElementById("car_text").innerHTML;
        document.getElementById("car_text").innerHTML = "";
        document.getElementById("go").style.visibility = "hidden";

        i = 0;
        function delaybutton98() {
          document.getElementById("go").style.visibility = "visible";
      }
        typeWriter(txt, 'car_text', delaybutton98);
        document.getElementById("hoverboard").style.visibility = "hidden";
        Increase();
      }

      function useHoverboard() {
        document.getElementById('transportborder').style.visibility = "visible";
        document.getElementById("hoverboard").disabled = true;
        document.getElementById("car").style.visibility = "hidden";
        // type writer
        document.getElementById("car_text").innerHTML = "";
        let txt = "Uh-oh, using the mind-reading tech in the hoverboard means that we are compromising more of our data to AI-Arnold.\
        This puts us at more risk of it finding us! So let's hurry!";
        i = 0;
        function delaybutton97() {
          document.getElementById("go").style.visibility = "visible";

        }
        typeWriter(txt, 'car_text', delaybutton97);
        Decrease();
      }

      function go() {
        document.getElementById('goborder').style.visibility = "visible";
        document.getElementById("go").disabled = true;
        document.getElementById("ai").style.visibility = "hidden";
        document.getElementById("front").style.visibility = "hidden";

        // typer writer
        let txt = document.getElementById("enter").innerHTML;
        document.getElementById("enter").innerHTML = "";
        i = 0;
        function delaybutton96() {
          document.getElementById("ai").style.visibility = "visible";
          document.getElementById("front").style.visibility = "visible";

        }
        typeWriter(txt, 'enter', delaybutton96);
      }

      function useFront() {
        document.getElementById('doorborder').style.visibility = "visible";
        document.getElementById("front").disabled = true;
        document.getElementById("door").style.visibility = "hidden";

        // type writer
        document.getElementById("front_text").innerHTML = "";
        let txt = "Security: What's your ID, AI? \n Rolo: ...uh, I'm Rolo.. and here's my ID\n\
                  Security: I'm going to need you to come inside through the entrance for AIs \n\
                  ...\n\
                  Looks like we just attracted more attention to our opperation :|"
        i = 0;
        function delaybutton95() {
          document.getElementById("door").style.visibility = "visible";

        }
        typeWriter(txt, 'front_text', delaybutton95);
        document.getElementById("ai").style.visibility = "hidden";
        Decrease();
      }

      function useBack() {
        document.getElementById('doorborder').style.visibility = "visible";
        document.getElementById("ai").disabled = true;
        document.getElementById("door").style.visibility = "hidden";

        // type writer
        let txt = document.getElementById("front_text").innerHTML;
        document.getElementById("front_text").innerHTML = "";
        i = 0;
        function delaybutton94() {
          document.getElementById("door").style.visibility = "visible";

        }
        typeWriter(txt, 'front_text', delaybutton94);
        document.getElementById("front").style.visibility = "hidden";
        Increase();
      }

      function door() {
        document.getElementById('arnoldborder').style.visibility = "visible";
        document.getElementById("no_trust").style.visibility = "hidden";
        document.getElementById("trust").style.visibility = "hidden";
        // type writer
        let txt = document.getElementById('watson').innerHTML;
        document.getElementById('watson').innerHTML = "";
        i = 0;
        function delaybutton93() {
          document.getElementById("no_trust").style.visibility = "visible";
          document.getElementById("trust").style.visibility = "visible";

        }
        typeWriter(txt, 'watson', delaybutton93);
        document.getElementById("door").disabled = true;
      }

      function noTrust() {
        document.getElementById('watsonborder').style.visibility = "visible";
        document.getElementById("no_trust").disabled = true;
        document.getElementById("trust").style.visibility = "hidden";
        document.getElementById("continue").style.visibility = "hidden";

        // type writer
        let txt = "Rolo: Goodbye, Watson... \n\n Ok, let's keep going.";
        document.getElementById('trust_text').innerHTML =  "";
        i = 0;
        function delaybutton92() {
          document.getElementById("continue").style.visibility = "visible";

        }
        typeWriter(txt, 'trust_text', delaybutton92);
        sessionStorage.setItem('watson', false);
      }

      function trust() {
        document.getElementById('watsonborder').style.visibility = "visible";
        document.getElementById("trust").disabled = true;
        document.getElementById("continue").style.visibility = "hidden";

        // type writer
        let txt = document.getElementById('trust_text').innerHTML;
        document.getElementById('trust_text').innerHTML = '';
        i = 0;
        function delaybutton91() {
          document.getElementById("continue").style.visibility = "visible";

        }
        typeWriter(txt, 'trust_text', delaybutton91);
        document.getElementById("no_trust").style.visibility = "hidden";
        sessionStorage.setItem('watson', true);
        Increase();
      }

      // Type writer effect function
      function typeWriter(txt, id, completion) {
        if (i < txt.length) {
          if (txt.charAt(i) === '\n') {
            document.getElementById(id).innerHTML += ' <br> ';
            i++;
            setTimeout(typeWriter, 1, txt, id, completion);
          } else {
            document.getElementById(id).innerHTML += txt.charAt(i);
            i++;
            setTimeout(typeWriter, 1, txt, id, completion);
          }
        } else {
          completion()
        }

      }

      // Decrease progress bar
      function Decrease() {
        let progress = document.getElementById('animate');
        progress.style.height = progress.offsetHeight + 75 + 'px';
      }

      // Increase progress bar
      function Increase() {
        let progress = document.getElementById('animate');
        progress.style.height = progress.offsetHeight -  75 + 'px';
      }

      // save Progress
      function Save() {
        let progress = document.getElementById('animate');
        sessionStorage.setItem('progress', progress.style.offsetHeight);
      }
    </script>
    <font size=50><p id='title'>AI or You </font> <font size=5>| Prevent AI Takeover</p></font>
    <img id='gif' src="https://blog.sciencemuseum.org.uk/wp-content/uploads/2017/10/Space-Invaders.gif" alt="">

    <!-- Progress bar -->
    <div id='progress'>
      <p> win for the humans! </p>
      <div id='container'>
        <div id='animate'></div>
      </div>
      <p> win for the AI :( </p>
    </div>

    <!-- player decides how to get to AutoMate building -->
    <div id='sideprogress'>
      <p id='introToEnt'> Ok, we don't have a lot of time!
        First we need to get to the AutoMate building where Arnold was created.
        It's pretty far, and we have two ways to get there.</p>
      <input class='button' type="button" id="car" onclick="driveCar()" value="self-driving car with gps system">
      <input class='button' type="button" id="hoverboard" onclick="useHoverboard()" value="hoverboard you control with your mind">

      <div class='start'>
        <!-- if player chose CAR -->
        <div class='around' id='transportborder'>
          <p id="car_text"> Good choice. The self-driving car had the route to AutoMate, and we didn't need to compromise any more data to AI-Arnold.
                            Now, let's go! :D</p>
        </div>
          <!-- if player chose HOVERBOARD -->
          <!-- <p id="board_text">  </p> -->
          <input class='button' type="button" id="go" onclick="go()" value="keep going">


        <!-- decides which entrance to use -->
        <div class='around' id='goborder'>
          <p id='enter'> Nice, we're right outside of AutoMate right now.
                         Our goal is be as subtle as possible and enter the building. </p>
          </div>
          <input class='button' type="button" id="front" onclick="useFront()" value="front entrance">
          <input class='button' type="button" id="ai" onclick="useBack()" value="AI entrance">


        <!-- if player chose FRONT -->
        <div class='around' id='doorborder'>
          <p id="front_text"> This is good; I was able to blend in with the other AIs
                              and we didn't attract much attention.
                              The art of subtlety! </p>
          <p id="front_text2"> </p>
          <p id="front_text3"> </p>
          <p id="front_text4"> </p>

          <!-- if player chose AI DOOR -->
          <p id="ai_text">  </p>
          <input class='button' type="button" id="door" onclick="door()" value="keep going">
        </div>

        <!-- meeting watson decisons -->
        <div class='around' id='arnoldborder'>
          <p id='watson'> I see something coming towards us.
                    Watson: Hi, my name is Wat-son.
                    Oh, another AI! It might be worth it to befriend it,
                    but Arnold has a lot of control on the AIs and humans.
                    There's a chance that Watson could be a spy. What should I do?</p>

          <input class='button' type="button" id="no_trust" onclick="noTrust()" value="don't trust Watson">
          <input class='button' type="button" id="trust" onclick="trust()" value="talk to Watson">
        </div>

        <!-- if player chose DON'T TRUST -->
        <div class='around' id='watsonborder'>

          <!-- if player chose TRUST -->
          <p id="trust_text"> Rolo: Hi, I'm Rolo. Can you help us?
                        Watson: What do you want to know?
                        Rolo: We're looking for...the main room of this building.
                        Watson: You can go through this door and look around.
                        Rolo: Ok, thanks. ;)</p>

        <!-- Continue link to /Confront page-->
        <form class="" action="/confront">
          <button class='button' id='continue' type="sumbit" action='/confront.html' onclick='Save()'> continue </button>
        </form>
      </div>
    </div>
  </div>
  </body>
</center>
</html>
